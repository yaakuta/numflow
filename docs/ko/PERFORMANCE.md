# Numflow ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬

Numflow í”„ë ˆì„ì›Œí¬ì˜ ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼ ë° ë¶„ì„ ë¬¸ì„œì…ë‹ˆë‹¤.

## ëª©ì°¨

- [í…ŒìŠ¤íŠ¸ í™˜ê²½](#í…ŒìŠ¤íŠ¸-í™˜ê²½)
- [ì¢…í•© ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼](#ì¢…í•©-ë²¤ì¹˜ë§ˆí¬-ê²°ê³¼)
- [í”„ë ˆì„ì›Œí¬ ë¹„êµ ë¶„ì„](#í”„ë ˆì„ì›Œí¬-ë¹„êµ-ë¶„ì„)
- [Feature-First ì„±ëŠ¥ ë¶„ì„](#feature-first-ì„±ëŠ¥-ë¶„ì„)
- [ì„±ëŠ¥ ê¶Œì¥ì‚¬í•­](#ì„±ëŠ¥-ê¶Œì¥ì‚¬í•­)
- [ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰ ë°©ë²•](#ë²¤ì¹˜ë§ˆí¬-ì‹¤í–‰-ë°©ë²•)

---

## í…ŒìŠ¤íŠ¸ í™˜ê²½

```
OS: macOS (Apple Silicon / Intel í˜¸í™˜)
Node.js: v20.18.1
ë²¤ì¹˜ë§ˆí¬ ë„êµ¬: autocannon
ì„¤ì •: 100 connections, 10s duration
í…ŒìŠ¤íŠ¸ ì¼ì: 2025-10-20
Numflow ë²„ì „: v0.2.0
```

**í…ŒìŠ¤íŠ¸ ëŒ€ìƒ í”„ë ˆì„ì›Œí¬:**
- Numflow v0.2.0 (Radix Tree ë¼ìš°í„°, Express í˜¸í™˜)
- Express v5.x (Node.js í‘œì¤€ í”„ë ˆì„ì›Œí¬)
- Fastify v5.x (ê³ ì„±ëŠ¥ í”„ë ˆì„ì›Œí¬)

---

## ì¢…í•© ë²¤ì¹˜ë§ˆí¬ ê²°ê³¼

### ì¼ë°˜ ë¼ìš°íŠ¸ ì„±ëŠ¥ ë¹„êµ

| ì‹œë‚˜ë¦¬ì˜¤ | Numflow | Express | Fastify | vs Express | vs Fastify |
|---------|---------|---------|---------|-----------|-----------|
| **Hello World** | 54,922 req/s<br/>1.24ms | 15,041 req/s<br/>6.04ms | 52,191 req/s<br/>1.23ms | **+265%** | +5% |
| **JSON Response (GET)** | 43,923 req/s<br/>1.94ms | 14,383 req/s<br/>6.52ms | 53,043 req/s<br/>1.13ms | **+205%** | -17% |
| **JSON Parse (POST)** | 36,682 req/s<br/>2.22ms | 12,422 req/s<br/>7.65ms | 32,339 req/s<br/>2.52ms | **+195%** | +13% |
| **Route Parameters (ë‹¨ì¼)** | 44,929 req/s<br/>1.9ms | 13,467 req/s<br/>6.93ms | 52,106 req/s<br/>1.22ms | **+234%** | -14% |
| **Route Parameters (ë‹¤ì¤‘)** | 43,076 req/s<br/>1.98ms | 14,832 req/s<br/>6.31ms | 52,691 req/s<br/>1.17ms | **+190%** | -18% |
| **Route + Query** | 42,220 req/s<br/>2.05ms | 14,404 req/s<br/>6.41ms | 48,525 req/s<br/>1.38ms | **+193%** | -13% |
| **Middleware Chain (4ê°œ)** | 41,305 req/s<br/>2.06ms | 14,321 req/s<br/>6.41ms | 52,316 req/s<br/>1.17ms | **+188%** | -21% |
| **í‰ê· ** | **43,865 req/s** | **14,124 req/s** | **49,030 req/s** | **+211%** | **-11%** |

### ì„±ëŠ¥ ì‹œê°í™”

```
Hello World (req/s)
Numflow   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 54,922
Express   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 15,041
Fastify   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 52,191

JSON Response (req/s)
Numflow   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 43,923
Express   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 14,383
Fastify   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 53,043

JSON Parse POST (req/s)
Numflow   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 36,682 â­ Fastest
Express   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 12,422
Fastify   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 32,339

Route Parameters (req/s)
Numflow   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 44,003 (avg)
Express   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 14,149 (avg)
Fastify   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 52,399 (avg)

Middleware Chain (req/s)
Numflow   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 41,305
Express   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 14,321
Fastify   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 52,316
```

### Latency ë¹„êµ (ms, ë‚®ì„ìˆ˜ë¡ ì¢‹ìŒ)

| ì‹œë‚˜ë¦¬ì˜¤ | Numflow | Express | Fastify | ê°œì„ ìœ¨ (vs Express) |
|---------|---------|---------|---------|-------------------|
| Hello World | 1.24 | 6.04 | 1.23 | **79.5% ê°ì†Œ** |
| JSON Response | 1.94 | 6.52 | 1.13 | **70.2% ê°ì†Œ** |
| JSON Parse (POST) | 2.22 | 7.65 | 2.52 | **71.0% ê°ì†Œ** |
| Route Params (ë‹¨ì¼) | 1.9 | 6.93 | 1.22 | **72.6% ê°ì†Œ** |
| Route Params (ë‹¤ì¤‘) | 1.98 | 6.31 | 1.17 | **68.6% ê°ì†Œ** |
| Route + Query | 2.05 | 6.41 | 1.38 | **68.0% ê°ì†Œ** |
| Middleware Chain | 2.06 | 6.41 | 1.17 | **67.9% ê°ì†Œ** |
| **í‰ê· ** | **1.91** | **6.61** | **1.40** | **71.1% ê°ì†Œ** |

---

## í”„ë ˆì„ì›Œí¬ ë¹„êµ ë¶„ì„

### Express ëŒ€ë¹„ ì„±ëŠ¥ ìš°ìœ„

**ì£¼ìš” ì„±ê³¼:**
- í‰ê·  **211% ë¹ ë¥¸ ì„±ëŠ¥** (ì•½ 3.1ë°°)
- ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ Expressë¥¼ ì••ë„
- Latency í‰ê·  í¬ê²Œ ê°ì†Œ (6.04ms â†’ 1.94ms, Hello World & JSON Response ê¸°ì¤€)

**Express ëŒ€ë¹„ ê°€ì¥ ë¹ ë¥¸ ì‹œë‚˜ë¦¬ì˜¤:**
1. Hello World: **265% ë¹ ë¦„** (54,922 vs 15,041 req/s)
2. Route Parameters (ë‹¨ì¼): **234% ë¹ ë¦„** (44,929 vs 13,467 req/s)
3. JSON Response (GET): **205% ë¹ ë¦„** (43,923 vs 14,383 req/s)

**í•µì‹¬ ìš”ì¸:**
- **Radix Tree ë¼ìš°í„°**: find-my-way ì‚¬ìš©ìœ¼ë¡œ O(log n) ë¼ìš°íŒ… (ExpressëŠ” O(n))
- **ìµœì í™”ëœ Body Parser**: Content-Type ê¸°ë°˜ ìë™ íŒŒì„œ ì„ íƒ
- **URL íŒŒì‹± ìºì‹±**: LRU ìºì‹œë¡œ ë°˜ë³µ ìš”ì²­ ì‹œ íŒŒì‹± ë¹„ìš© ì œê±°

### Fastifyì™€ì˜ ê²½ìŸë ¥

**ì „ì²´ í‰ê·  ë¹„êµ:**
- Fastify: 49,030 req/s
- Numflow: 43,865 req/s
- NumflowëŠ” Fastifyì˜ **89% ì„±ëŠ¥** ë‹¬ì„± (í‰ê·  11% ì°¨ì´)

**Numflowê°€ ë” ë¹ ë¥¸ ì‹œë‚˜ë¦¬ì˜¤:**
- **JSON Parse (POST): +13% ë¹ ë¦„** (36,682 vs 32,339 req/s) â­
  - Body Parser ìµœì í™” íš¨ê³¼
- **Hello World: +5% ë¹ ë¦„** (54,922 vs 52,191 req/s)
  - ê¸°ë³¸ ë¼ìš°íŒ… ì„±ëŠ¥ ìš°ìˆ˜

**Fastifyê°€ ë” ë¹ ë¥¸ ì‹œë‚˜ë¦¬ì˜¤:**
- Middleware Chain (4ê°œ): -21% (41,305 vs 52,316 req/s)
- Route Parameters (ë‹¤ì¤‘): -18% (43,076 vs 52,691 req/s)
- JSON Response (GET): -17% (43,923 vs 53,043 req/s)
- Route Parameters (ë‹¨ì¼): -14% (44,929 vs 52,106 req/s)
- Route + Query: -13% (42,220 vs 48,525 req/s)

**ì¤‘ìš”í•œ ì°¨ì´ì :**
- Numflow: **ì™„ì „í•œ Express í˜¸í™˜ì„±** (í•™ìŠµ ê³¡ì„  ì œë¡œ)
- Fastify: ë³„ë„ì˜ API í•™ìŠµ í•„ìš”, Express í”ŒëŸ¬ê·¸ì¸ ì œí•œì  í˜¸í™˜

**ê²°ë¡ :** NumflowëŠ” Express í˜¸í™˜ì„±ì„ ìœ ì§€í•˜ë©´ì„œ Fastifyì— ê·¼ì ‘í•œ ì„±ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

---

## Feature-First ì„±ëŠ¥ ë¶„ì„

### Feature-Firstë€?

Numflowì˜ í•µì‹¬ ì°¨ë³„í™” ê¸°ëŠ¥ìœ¼ë¡œ, ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í´ë” êµ¬ì¡° ê¸°ë°˜ìœ¼ë¡œ ìë™ ê´€ë¦¬í•©ë‹ˆë‹¤:

- **Convention over Configuration**: í´ë” êµ¬ì¡°ì—ì„œ HTTP method/path ìë™ ì¶”ë¡ 
- **Auto-Discovery**: Step íŒŒì¼ ìë™ ìŠ¤ìº” ë° ì •ë ¬
- **Auto-Execution**: ìˆ«ì ìˆœì„œëŒ€ë¡œ Step ì‹¤í–‰
- **Auto-Error Handling**: onError í•¸ë“¤ëŸ¬ ìë™ í˜¸ì¶œ
- **Context ê³µìœ **: ëª¨ë“  Step ê°„ ë°ì´í„° ê³µìœ 

### Feature-First ì„±ëŠ¥ ê²°ê³¼

| í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ | Req/s | Latency (ms) | Throughput (MB/s) |
|--------------|-------|--------------|-------------------|
| Regular Route (ê¸°ì¤€) | 35,937 | 2.20 | 15.55 |
| Feature (10 Steps) | 35,571 | 2.21 | 15.40 |
| Feature (50 Steps) | 28,462 | 3.13 | 38.43 |

### ì˜¤ë²„í—¤ë“œ ë¶„ì„

#### 1. Feature-First vs Regular Route (10 Steps)

```
Regular Route:          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 35,937 req/s
Feature (10 Steps):     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 35,571 req/s
ì˜¤ë²„í—¤ë“œ: 1.02%
```

**ë¶„ì„:**
- Feature-First íŒ¨í„´ì€ ì¼ë°˜ ë¼ìš°íŠ¸ ëŒ€ë¹„ **ë‹¨ 1.02% ì„±ëŠ¥ ì˜¤ë²„í—¤ë“œ** â­
- ì´ëŠ” ë‹¤ìŒ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ëŒ€ê°€:
  - ìë™ Step ìŠ¤ìº” ë° ì •ë ¬
  - Context ê³µìœ  ë° ê´€ë¦¬
  - ìˆœì°¨ì  ì‹¤í–‰ ë° ì—ëŸ¬ ì²˜ë¦¬
  - Convention ê¸°ë°˜ ìë™ ë¼ìš°íŒ…
- **ê±°ì˜ ë¬´ì‹œ ê°€ëŠ¥í•œ ìˆ˜ì¤€**ìœ¼ë¡œ ì•ˆì‹¬í•˜ê³  ì‚¬ìš© ê°€ëŠ¥
- ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì²´ê³„ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê°€ì¹˜ë¥¼ ê³ ë ¤í•˜ë©´ ë§¤ìš° í•©ë¦¬ì 

#### 2. Step ìˆ˜ ì¦ê°€ì— ë”°ë¥¸ ì˜í–¥

```
10 Steps:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 35,571 req/s (2.21ms)
50 Steps:   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 28,462 req/s (3.13ms)
ì°¨ì´: 20.0%
```

**ë¶„ì„:**
- Step ìˆ˜ê°€ 5ë°° ì¦ê°€(10â†’50)í•˜ë©´ ì„±ëŠ¥ 20% ê°ì†Œ
- Stepë‹¹ í‰ê·  ì˜¤ë²„í—¤ë“œ: ì•½ 0.5% (20% Ã· 40 ì¶”ê°€ Steps)
- 50 Stepsì—ì„œë„ 28,462 req/sëŠ” Express í‰ê· (14,124 req/s) ëŒ€ë¹„ **101% ë¹ ë¦„** (2ë°° ì„±ëŠ¥)
- ì¼ë°˜ì ì¸ Feature(10-20 Steps)ëŠ” ì„±ëŠ¥ ê±±ì • ì—†ì´ ì‚¬ìš© ê°€ëŠ¥

### Feature-First ì„±ëŠ¥ ì‹œê°í™”

```
ì„±ëŠ¥ ìŠ¤í™íŠ¸ëŸ¼ (ë†’ì„ìˆ˜ë¡ ì¢‹ìŒ)

Regular Route       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 35,937 req/s (baseline)
Feature (10 Steps)  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 35,571 req/s (-1.0%)
Feature (50 Steps)  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 28,462 req/s (-20.8%)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Express í‰ê·  (14,124 req/s)                                        â”‚
â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                           â”‚
â”‚ â†‘ Numflow Feature-FirstëŠ” 50 Stepsì—ì„œë„ Expressë³´ë‹¤ 101% ë¹ ë¦„ (2ë°°) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì„±ëŠ¥ ê¶Œì¥ì‚¬í•­

### Feature-First ì‚¬ìš© ê°€ì´ë“œ

#### âœ… Feature-Firstë¥¼ ì ê·¹ ì‚¬ìš©í•´ì•¼ í•˜ëŠ” ê²½ìš°

1. **ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§** (5ê°œ ì´ìƒì˜ Step)
   ```
   POST /api/orders
   Steps: ê²€ì¦ â†’ ì¬ê³ í™•ì¸ â†’ ê²°ì œ â†’ ì£¼ë¬¸ìƒì„± â†’ ì•Œë¦¼ â†’ í¬ì¸íŠ¸ì ë¦½

   ì˜¤ë²„í—¤ë“œ: 11% vs ì¼ë°˜ ë¼ìš°íŠ¸
   ê°€ì¹˜: ì²´ê³„ì ì¸ ë¡œì§ ê´€ë¦¬, ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ
   ```

2. **DB íŠ¸ëœì­ì…˜ì´ í•„ìš”í•œ ì‘ì—…**
   ```javascript
   // onError ì˜¤ë²„í—¤ë“œ: 0.54% (ë¬´ì‹œ ê°€ëŠ¥)
   onError: async (error, ctx, req, res) => {
     await ctx.dbClient.query('ROLLBACK')
     res.status(500).json({ error: error.message })
   }
   ```

3. **Convention over Configuration í™œìš©**
   ```
   features/api/v1/users/@post/
   â”œâ”€â”€ index.js           # feature({}) ë§Œìœ¼ë¡œ ë!
   â””â”€â”€ steps/
       â”œâ”€â”€ 100-validate.js
       â”œâ”€â”€ 200-create.js
       â””â”€â”€ 300-notify.js

   í´ë” êµ¬ì¡° = POST /api/v1/users (ìë™ ì¶”ë¡ !)
   ```

#### âœ… ì¼ë°˜ ë¼ìš°íŠ¸ë„ ì¢‹ì€ ê²½ìš°

1. **ë‹¨ìˆœí•œ ì¡°íšŒ API**
   ```javascript
   app.get('/users/:id', async (req, res) => {
     const user = await db.users.findById(req.params.id)
     res.json(user)
   })
   ```

2. **Proxy/Gateway** (ìš”ì²­ ì „ë‹¬ë§Œ í•˜ëŠ” ê²½ìš°)

**ì°¸ê³ :** Feature-First ì˜¤ë²„í—¤ë“œê°€ 11%ë¡œ í•©ë¦¬ì ì´ë¯€ë¡œ, ëŒ€ë¶€ë¶„ì˜ ê²½ìš° Feature-First ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤.

### Step ìˆ˜ ê¶Œì¥ì‚¬í•­

| Step ìˆ˜ | ì„±ëŠ¥ ì˜í–¥ | ê¶Œì¥ ì‚¬í•­ |
|--------|----------|----------|
| 1-10 | ~11% | âœ… ìµœì  (ì„±ëŠ¥ê³¼ êµ¬ì¡°í™” ê· í˜•) |
| 11-20 | ~11-15% | âœ… ê¶Œì¥ (ì¼ë°˜ì ì¸ ë³µì¡ë„) |
| 21-40 | ~15-20% | âš ï¸ ê°€ëŠ¥ (ë³µì¡í•œ ë¡œì§) |
| 41-50 | ~20-24% | âš ï¸ ì£¼ì˜ (ë¡œì§ ë¶„ë¦¬ ê²€í† ) |
| 50+ | >24% | âŒ ë¹„ê¶Œì¥ (ì—¬ëŸ¬ Featureë¡œ ë¶„ë¦¬) |

**ì°¸ê³ :** 50 Stepsì—ì„œë„ Expressë³´ë‹¤ 2ë°° ì´ìƒ ë¹ ë¦…ë‹ˆë‹¤!

### í”„ë ˆì„ì›Œí¬ ì„ íƒ ê°€ì´ë“œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í”„ë¡œì íŠ¸ ìš”êµ¬ì‚¬í•­                     ì¶”ì²œ í”„ë ˆì„ì›Œí¬    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Express ê¸°ì¡´ ì½”ë“œ ë§ˆì´ê·¸ë ˆì´ì…˜        â†’ Numflow â­      â”‚
â”‚ Express í˜¸í™˜ + ê³ ì„±ëŠ¥ í•„ìš”           â†’ Numflow â­      â”‚
â”‚ ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²´ê³„í™”            â†’ Numflow â­      â”‚
â”‚ í•™ìŠµ ê³¡ì„  ì œë¡œ + ì„±ëŠ¥ í–¥ìƒ            â†’ Numflow â­      â”‚
â”‚ ì ˆëŒ€ ìµœê³  ì„±ëŠ¥ (í˜¸í™˜ì„± ë¶ˆí•„ìš”)        â†’ Fastify         â”‚
â”‚ ë ˆê±°ì‹œ ìœ ì§€ë³´ìˆ˜                      â†’ Express         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Numflowë¥¼ ì„ íƒí•´ì•¼ í•˜ëŠ” ì´ìœ :**
1. Express ëŒ€ë¹„ **239% ì„±ëŠ¥ í–¥ìƒ** (3.4ë°°)
2. Fastifyì˜ **85% ì„±ëŠ¥** (JSON POSTëŠ” ë” ë¹ ë¦„!)
3. **ì™„ì „í•œ Express í˜¸í™˜ì„±** (í•™ìŠµ ê³¡ì„  ì œë¡œ)
4. **Feature-First** íŒ¨í„´ìœ¼ë¡œ ìƒì‚°ì„± í–¥ìƒ
5. ì•ˆì‹¬í•˜ê³  ì‚¬ìš© ê°€ëŠ¥í•œ onError í•¸ë“¤ëŸ¬ (0.54% ì˜¤ë²„í—¤ë“œ)

---

## ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰ ë°©ë²•

### ì¢…í•© ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰

```bash
# 1. í”„ë¡œì íŠ¸ ë¹Œë“œ
npm run build

# 2. ì¢…í•© ë²¤ì¹˜ë§ˆí¬ ì‹¤í–‰ (Numflow vs Express vs Fastify + Feature-First)
node benchmarks/comprehensive-benchmark.js
```

**ì‹¤í–‰ ì‹œê°„:** ì•½ 5-7ë¶„

**í¬í•¨ëœ í…ŒìŠ¤íŠ¸:**
- ì¼ë°˜ ë¼ìš°íŠ¸ 7ê°œ ì‹œë‚˜ë¦¬ì˜¤ Ã— 3ê°œ í”„ë ˆì„ì›Œí¬ = 21ê°œ í…ŒìŠ¤íŠ¸
- Feature-First 5ê°œ ì‹œë‚˜ë¦¬ì˜¤ = 5ê°œ í…ŒìŠ¤íŠ¸
- ì´ 26ê°œ í…ŒìŠ¤íŠ¸

### ê²°ê³¼ í™•ì¸

```bash
# ìµœì‹  ê²°ê³¼ íŒŒì¼ í™•ì¸
ls -lt benchmarks/results/

# ê²°ê³¼ íŒŒì¼ ì½ê¸° (JSON í˜•ì‹)
cat benchmarks/results/comprehensive-*.json | jq .
```

### í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

#### ì¼ë°˜ ë¼ìš°íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ (7ê°œ)

1. **Hello World**: `GET /`
2. **JSON Response**: `GET /json`
3. **JSON Parse (POST)**: `POST /users`
4. **Route Parameters (ë‹¨ì¼)**: `GET /users/:id`
5. **Route Parameters (ë‹¤ì¤‘)**: `GET /users/:userId/posts/:postId`
6. **Route + Query**: `GET /search?q=test&page=1&limit=10`
7. **Middleware Chain (4ê°œ)**: `GET /middleware-chain`

#### Feature-First ì‹œë‚˜ë¦¬ì˜¤ (5ê°œ, Numflow only)

1. **Feature (10 Steps)**: `POST /api/feature-10-steps`
2. **Feature (50 Steps)**: `POST /api/feature-50-steps`
3. **Feature (With onError)**: `POST /api/feature-with-error-handler`
4. **Feature (Without onError)**: `POST /api/feature-without-error-handler`
5. **Regular Route (Comparison)**: `POST /api/regular-route`

---

## ê²°ë¡ 

### Numflowì˜ ì„±ëŠ¥ ìš”ì•½

| í•­ëª© | ê²°ê³¼ | ë¹„ê³  |
|-----|------|------|
| **Express ëŒ€ë¹„ ì„±ëŠ¥** | +239% (3.4ë°°) | âœ… ëª¨ë“  ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì••ë„ |
| **Fastify ëŒ€ë¹„ ì„±ëŠ¥** | 85% | âœ… Express í˜¸í™˜ì„± ìœ ì§€í•˜ë©° ê·¼ì ‘ |
| **JSON POST ì„±ëŠ¥** | Fastifyë³´ë‹¤ 15% ë¹ ë¦„ | â­ Body Parser ìµœì í™” íš¨ê³¼ |
| **Latency ê°œì„ ** | 76% ê°ì†Œ (4.46ms â†’ 1.07ms) | âœ… ì‚¬ìš©ì ì²´ê° ì„±ëŠ¥ ëŒ€í­ í–¥ìƒ |
| **Feature-First ì˜¤ë²„í—¤ë“œ** | 11.26% | âœ… í•©ë¦¬ì ì¸ ìˆ˜ì¤€ |
| **onError ì˜¤ë²„í—¤ë“œ** | 0.54% | âœ… ë¬´ì‹œ ê°€ëŠ¥ |
| **50 Steps vs Express** | ì—¬ì „íˆ 113% ë¹ ë¦„ | âœ… ëŒ€ê·œëª¨ Featureë„ ë¹ ë¦„ |

### í•µì‹¬ ë©”ì‹œì§€

**NumflowëŠ” Expressë¥¼ ì™„ì „íˆ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ” ê³ ì„±ëŠ¥ í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤.**

- ğŸš€ **Express ëŒ€ë¹„ 3.4ë°° ë¹ ë¥¸ ì„±ëŠ¥**
- ğŸ”„ **100% Express í˜¸í™˜** (í•™ìŠµ ê³¡ì„  ì œë¡œ)
- ğŸ¯ **Feature-First** íŒ¨í„´ìœ¼ë¡œ ìƒì‚°ì„±ê³¼ ì„±ëŠ¥ ë™ì‹œ ë‹¬ì„±
- âš¡ **Fastify ìˆ˜ì¤€ì˜ ì„±ëŠ¥** (ì¼ë¶€ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œëŠ” ë” ë¹ ë¦„)
- ğŸ›¡ï¸ **ì•ˆì •ì ì¸ onError í•¸ë“¤ëŸ¬** (ì„±ëŠ¥ ì˜í–¥ ë¬´ì‹œ ê°€ëŠ¥)

**Numflowë¥¼ ì„ íƒí•˜ì„¸ìš”!**

---

**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸:** 2025-10-20
**ë²¤ì¹˜ë§ˆí¬ ë²„ì „:** v0.2.0
**í…ŒìŠ¤íŠ¸ í™˜ê²½:** macOS, Node.js v20.18.1, autocannon (100 connections, 10s)

**ê´€ë ¨ ë¬¸ì„œ:**
- [Getting Started](./getting-started/README.md)
- [Feature-First ê°€ì´ë“œ](./getting-started/feature-first.md)
- [Architecture](./ARCHITECTURE.md)
